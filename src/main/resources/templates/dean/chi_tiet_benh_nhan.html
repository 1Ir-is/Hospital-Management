<!-- templates/dean/chi_tiet_benh_nhan.html -->
<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{department-head/layout/layout}">
<head>
    <title>Chi ti·∫øt b·ªánh nh√¢n</title>
</head>
<body>
<div layout:fragment="main-content">
    <h2 class="mb-4">ü©∫ Th√¥ng tin chi ti·∫øt b·ªánh nh√¢n n·ªôi tr√∫</h2>

    <!-- üë§ Th√¥ng tin b·ªánh nh√¢n -->
    <div class="card shadow-sm mb-4">
        <div class="card-header fw-bold bg-info text-white">
            Th√¥ng tin b·ªánh nh√¢n
        </div>
        <div class="card-body">
            <div class="row mb-2">
                <div class="col-md-4"><strong>H·ªç t√™n:</strong></div>
                <div class="col-md-8" th:text="${record.medicalRecord.patient.name}">--</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong>Gi·ªõi t√≠nh:</strong></div>
                <div class="col-md-8" th:text="${record.medicalRecord.patient.gender} ? 'Nam' : 'N·ªØ'">--</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong>Ng√†y sinh:</strong></div>
                <div class="col-md-8" th:text="${#temporals.format(record.medicalRecord.patient.birthday, 'dd-MM-yyyy')}">--</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong>Ph√≤ng:</strong></div>
                <div class="col-md-8" th:text="${record.bed.room.number}">--</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong>Ng√†y nh·∫≠p vi·ªán:</strong></div>
                <div class="col-md-8" th:text="${#temporals.format(record.admissionDate, 'dd-MM-yyyy')}">--</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong>L√Ω do nh·∫≠p vi·ªán:</strong></div>
                <div class="col-md-8" th:text="${record.reason}">--</div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong>Ghi ch√∫:</strong></div>
                <div class="col-md-8" th:text="${record.note != null ? record.note : 'Ch∆∞a c·∫≠p nh·∫≠t'}">--</div>
            </div>
        </div>
    </div>

    <!-- üìÖ L·ªãch s·ª≠ kh√°m b·ªánh -->
    <div class="card shadow-sm mb-3">
        <div class="card-header fw-bold bg-secondary text-white">
            ü©∫ L·ªãch s·ª≠ kh√°m b·ªánh
        </div>
        <div class="card-body p-0">
            <table class="table table-bordered mb-0">
                <thead class="table-light">
                <tr>
                    <th>Ng√†y kh√°m</th>
                    <th>T√¨nh tr·∫°ng</th>
                    <th>Ghi ch√∫</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="exam : ${historyList}">
                    <td th:text="${#temporals.format(exam.date, 'dd-MM-yyyy')}">--</td>
                    <td>
                        <span th:if="${exam.status == '·ªîn ƒë·ªãnh'}" class="badge bg-success">·ªîn ƒë·ªãnh</span>
                        <span th:if="${exam.status == 'C·∫ßn theo d√µi'}" class="badge bg-warning text-dark">C·∫ßn theo d√µi</span>
                        <span th:if="${exam.status == 'Nguy k·ªãch'}" class="badge bg-danger">Nguy k·ªãch</span>
                    </td>


                    <td th:text="${exam.note}">Ghi ch√∫</td>
                </tr>
                <tr th:if="${#lists.isEmpty(historyList)}">
                    <td colspan="3" class="text-center text-muted">Ch∆∞a c√≥ l·ªãch s·ª≠ kh√°m b·ªánh</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- üîô N√∫t quay l·∫°i -->
    <a th:href="@{/department-head/list-inpatient}" class="btn btn-secondary mt-3">
        ‚Üê Quay l·∫°i danh s√°ch
    </a>
</div>
</body>
</html>
