<html lang="vi"
      layout:decorate="~{doctor/layout/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
</head>

<div layout:fragment="main-content">
    <div class="welcome-card"
         style="background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); color: white; border-radius: 15px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 4px 20px rgba(0, 123, 255, 0.3);">
        <h3>ü©∫ Danh s√°ch b·ªánh nh√¢n ƒëang ch·ªù x√©t nghi·ªám</h3>
    </div>
<main>
    <div class="card">
        <div class="card-body">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">T√™n</th>
                    <th scope="col">M√£ b·ªánh nh√¢n</th>
                    <th scope="col">Ti·∫øn ƒë·ªô</th>
                    <th scope="col"></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="item, itemStatus: ${testSummaries}">
                    <th scope="row">
                        <p th:text="${itemStatus.count}"></p>
                    </th>
                    <td>
                        <p th:text="${item.patientName}"></p>
                    </td>
                    <td>
                        <p th:text="${item.patientId}"></p>
                    </td>
                    <td>
                        <div class="p-0" th:if="${item.completedTest == item.totalOfTest}">
                            <span style="background: #28a745; color: black; padding: 0.25rem 0.5rem; border-radius: 15px; font-size: 0.8rem;">
                                <span th:text="${item.completedTest}"></span>
                                <span>/</span>
                                <span th:text="${item.totalOfTest}"></span>
                            </span>
                        </div>
                        <div class="p-0" th:unless="${item.completedTest == item.totalOfTest}">
                            <span style="background: #ffc107; color: black; padding: 0.25rem 0.5rem; border-radius: 15px; font-size: 0.8rem;">
                                <span th:text="${item.completedTest}"></span>
                                <span>/</span>
                                <span th:text="${item.totalOfTest}"></span>
                            </span>
                        </div>
                    </td>
                    <td><a class="btn btn-primary" th:href="@{/examination/test/detail/{id}(id=${item.patientId})}">Chi ti·∫øt</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</main>
<footer>
    <!-- place footer here -->
</footer>
<!-- Bootstrap JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</div>
</html>