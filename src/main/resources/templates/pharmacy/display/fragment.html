<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="tableFragment(prescriptions)">

    <!-- ‚úÖ N·∫øu KH√îNG R·ªñNG th√¨ hi·ªÉn th·ªã b·∫£ng v√† ph√¢n trang -->

    <div th:if="${not #lists.isEmpty(prescriptions.content)}">
        <table class="table table-bordered">
            <thead class="table-light">
            <tr>
                <th>#</th>
                <th>T√™n b·ªánh nh√¢n</th>
                <th>M√£ h·ªì s∆°</th>
                <th>Ng√†y t·∫°o</th>
                <th>Tr·∫°ng th√°i</th>
                <th>Thao t√°c</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="prescription, status : ${prescriptions.content}">
                <td th:text="${status.count}"></td>
                <td th:text="${prescription.patientsName}"></td>
                <td th:text="${prescription.medicalRecordCode}"></td>
                <td th:text="${#dates.format(prescription.createdDate, 'dd/MM/yyyy')}"></td>
                <td th:text="${prescription.status}"></td>
                <td>
                    <a th:href="@{/pharmacy/prescription/{id}(id=${prescription.id})}" class="btn btn-info btn-sm">
                        üëÅÔ∏è Chi ti·∫øt
                    </a>
                </td>
            </tr>
            </tbody>
        </table>

        <!-- ‚úÖ PH√ÇN TRANG -->
        <nav>
            <ul class="pagination justify-content-center">
                <li class="page-item" th:classappend="${prescriptions.first} ? 'disabled'">
                    <a class="page-link page-link-ajax" th:data-page="${prescriptions.number - 1}">‚óÄÔ∏è Tr∆∞·ªõc</a>
                </li>

                <li th:each="i : ${#numbers.sequence(0, prescriptions.totalPages - 1)}"
                    class="page-item" th:classappend="${i == prescriptions.number} ? 'active'">
                    <a class="page-link page-link-ajax" th:data-page="${i}" th:text="${i + 1}">1</a>
                </li>

                <li class="page-item" th:classappend="${prescriptions.last} ? 'disabled'">
                    <a class="page-link page-link-ajax" th:data-page="${prescriptions.number + 1}">Ti·∫øp ‚ñ∂Ô∏è</a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- ‚úÖ N·∫øu R·ªñNG th√¨ hi·ªÉn th·ªã th√¥ng b√°o -->
    <div class="alert alert-warning text-center" th:if="${#lists.isEmpty(prescriptions.content)}">
        ‚ö†Ô∏è Kh√¥ng c√≥ ƒë∆°n thu·ªëc n√†o c·∫ßn hi·ªÉn th·ªã.
    </div>

</div>
</body>
</html>
